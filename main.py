from PIL import Image, ImageDraw


def move_right(a: list):
    """
        Сдвинуть элементы списка на 1 вправо
        a - список, элементы которого необходимо сдвинуть
        Возвращаемое значение - None, работа со списком идет по ссылке
    """
    last_element = a[-1]
    for i in range(len(a) - 1, 0, -1):
        a[i] = a[i - 1]
    a[0] = last_element


# словарь с координатами верхних левых углов квадратов,
# в которые вписаны окружности, из которых состоят буквы


letters = {
    'А': [[12, 252], [69, 199], [65, 226], [57, 249], [35, 267], [71, 172],
          [73, 146], [76, 122], [79, 96], [84, 72], [97, 50], [119, 34], [145, 31],
          [144, 56], [140, 81], [138, 105], [136, 130], [132, 154], [129, 180], [126, 206],
          [123, 231], [119, 254], [142, 271], [165, 259], [170, 235], [148, 219], [97, 201],
          [44, 187], [18, 171], [40, 150], [102, 138], [163, 129], [183, 148], [161, 163]],

    'Л': [[23, 251], [80, 198], [77, 225], [69, 248], [47, 266], [83, 171],
          [85, 145], [88, 121], [91, 95], [95, 71], [109, 48], [130, 33],
          [157, 30], [156, 55], [152, 79], [149, 104], [147, 129], [144, 153],
          [141, 179], [137, 205], [135, 230], [131, 253], [157, 263], [184, 257]],

    'Е': [[138, 23], [115, 22], [91, 22], [68, 23], [45, 22], [22, 22], [24, 44],
          [29, 66], [35, 87], [45, 107], [60, 127], [160, 23], [182, 22], [81, 142],
          [106, 149], [131, 151], [156, 151], [180, 151], [157, 172], [180, 172],
          [134, 175], [110, 181], [88, 192], [66, 207], [47, 224], [31, 246], [22, 270],
          [45, 271], [67, 270], [89, 271], [112, 271], [134, 271], [157, 271], [181, 271]],

    'К': [[20, 15], [20, 41], [20, 66], [20, 91], [20, 116], [20, 141], [20, 167],
          [20, 193], [20, 218], [20, 242], [21, 267], [42, 126], [46, 149], [73, 154],
          [99, 164], [123, 178], [145, 196], [159, 218], [169, 241], [172, 267], [70, 120],
          [97, 108], [119, 90], [134, 66], [141, 41], [144, 14]],

    'С': [[154, 24], [126, 14], [98, 12], [71, 15], [44, 27], [29, 52], [21, 81], [17, 109],
          [15, 135], [165, 49], [14, 164], [15, 194], [21, 222], [30, 249], [51, 267], [79, 275],
          [107, 275], [136, 266], [160, 252], [167, 224], [147, 210], [121, 216], [115, 245]],

    'Й': [[15, 20], [15, 45], [15, 74], [15, 101], [14, 127], [14, 155], [14, 182], [14, 208],
          [14, 235], [21, 261], [44, 245], [66, 227], [85, 207], [106, 184], [123, 159], [136, 129],
          [146, 100], [151, 72], [162, 44], [172, 20], [172, 45], [172, 73], [172, 100], [172, 127],
          [172, 154], [172, 180], [172, 207], [172, 233], [172, 261], [91, 33]]
}

name = 'АЛЕКСЕЙ'
frames = []
frames_quantity = sum([len(x) for x in letters.values()]) + 100

letter_width = 210
letter_height = 300
ball_size = 20
shades_of_purple = ['#800080', '#9370DB', '#BF00FF', '#A020F0', '#9F00C5',
                    '#66023C', '#92717C', '#7851A9', '#6C3082', '#9678B6',
                    '#86608E', '#B768A2', '#843F5B', '#9966CC', '#69359C',
                    '#BD33A4', '#702963', '#5D3954', '#682860', '#66424D',
                    '#915C83', '#C154C1', '#CA2C92', '#563C5C', '#DF00FF',
                    '#DA70D6', '#D39BCB', '#BA55D3', '#9932CC', '#CC00FF',
                    '#D19FE8', '#663854', '#614051', '#430541', '#990066',
                    '#873260', '#872657', '#C54B8C', '#FC5A8D', '#FF43A4',
                    '#8F00FF', '#B39EB5', '#B19CD9', '#966FD6', '#9A4EAE',
                    '#DE5D83', '#FE4EDA', '#B53389', '#880085', '#50404D'] + \
                   ['#800080'] * frames_quantity

for frame_number in range(frames_quantity):
    current_x_start = 0
    img = Image.new('RGB', (letter_width * len(name), letter_height), (255, 255, 255))
    draw = ImageDraw.Draw(img)
    current_color = 50
    for letter in name:
        for ball_x_relative, ball_y in letters[letter]:
            ball_x_relative += current_x_start
            draw.ellipse((ball_x_relative, ball_y, ball_x_relative + ball_size, ball_y + ball_size),
                         fill=shades_of_purple[current_color])
            current_color += 1
        current_x_start += letter_width
    frames.append(img)
    move_right(shades_of_purple)

frames[0].save('name.gif', format='GIF', append_images=frames[1:], save_all=True, duration=10, loop=0)
